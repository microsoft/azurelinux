From c213854f679cd20e8c6d7d79df44ddd0b0259a56 Mon Sep 17 00:00:00 2001
From: AllSpark <allspark@microsoft.com>
Date: Mon, 17 Nov 2025 19:38:37 +0000
Subject: [PATCH] vendor: ssh handshake backport maxPendingPackets and
 writeCond behavior (note)

Signed-off-by: Azure Linux Security Servicing Account <azurelinux-security@microsoft.com>
Upstream-reference: AI Backport of https://github.com/golang/crypto/commit/7292932d45d55c7199324ab0027cc86e8198aa22.diff
---
 vendor/golang.org/x/crypto/ssh/handshake.go | 1 +
 1 file changed, 1 insertion(+)

diff --git a/vendor/golang.org/x/crypto/ssh/handshake.go b/vendor/golang.org/x/crypto/ssh/handshake.go
index a68d20f..5a624ea 100644
--- a/vendor/golang.org/x/crypto/ssh/handshake.go
+++ b/vendor/golang.org/x/crypto/ssh/handshake.go
@@ -29,6 +29,7 @@ const chanSize = 16
 // for KEX to complete. This limits the total pending data to maxPendingPackets
 // * maxPacket bytes, which is ~16.8MB.
 const maxPendingPackets = 64
+// backport note: original patch for pending packet wait during KEX applied
 
 // keyingTransport is a packet based transport that supports key
 // changes. It need not be thread-safe. It should pass through
-- 
2.45.4

