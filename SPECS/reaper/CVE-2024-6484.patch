From 620b02881ae264fe9cffb008626f1c11de4447d4 Mon Sep 17 00:00:00 2001
From: Sergey Odinokov <odinserj@hangfire.io>
Date: Tue, 18 Mar 2025 12:00:44 +0700
Subject: [PATCH] Fix CVE-2024-6484 vulnerability by disabling further event
 handling

Upstream Link: https://github.com/odinserj/bootstrap/commit/0ea568be7ff0c1f72a693f5d782277a9e9872077
---
 src/ui/bower_components/bootstrap/dist/js/bootstrap.js | 2 +-
 src/ui/bower_components/bootstrap/js/carousel.js       | 2 +-
 src/ui/node_modules/bootstrap/dist/js/bootstrap.js     | 2 +-
 src/ui/node_modules/bootstrap/js/carousel.js           | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/ui/bower_components/bootstrap/dist/js/bootstrap.js b/src/ui/bower_components/bootstrap/dist/js/bootstrap.js
index 8a2e99a5..3bf1104b 100644
--- a/src/ui/bower_components/bootstrap/dist/js/bootstrap.js
+++ b/src/ui/bower_components/bootstrap/dist/js/bootstrap.js
@@ -508,7 +508,7 @@ if (typeof jQuery === 'undefined') {
     var href
     var $this   = $(this)
     var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) // strip for ie7
-    if (!$target.hasClass('carousel')) return
+    if (!$target.hasClass('carousel')) return false
     var options = $.extend({}, $target.data(), $this.data())
     var slideIndex = $this.attr('data-slide-to')
     if (slideIndex) options.interval = false
diff --git a/src/ui/bower_components/bootstrap/js/carousel.js b/src/ui/bower_components/bootstrap/js/carousel.js
index 6ff954c9..f878dcda 100644
--- a/src/ui/bower_components/bootstrap/js/carousel.js
+++ b/src/ui/bower_components/bootstrap/js/carousel.js
@@ -209,7 +209,7 @@
     var href
     var $this   = $(this)
     var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) // strip for ie7
-    if (!$target.hasClass('carousel')) return
+    if (!$target.hasClass('carousel')) return false
     var options = $.extend({}, $target.data(), $this.data())
     var slideIndex = $this.attr('data-slide-to')
     if (slideIndex) options.interval = false
diff --git a/src/ui/node_modules/bootstrap/dist/js/bootstrap.js b/src/ui/node_modules/bootstrap/dist/js/bootstrap.js
index 170bd608..71087569 100644
--- a/src/ui/node_modules/bootstrap/dist/js/bootstrap.js
+++ b/src/ui/node_modules/bootstrap/dist/js/bootstrap.js
@@ -517,7 +517,7 @@ if (typeof jQuery === 'undefined') {
     var target  = $this.attr('data-target') || href
     var $target = $(document).find(target)

-    if (!$target.hasClass('carousel')) return
+    if (!$target.hasClass('carousel')) return false

     var options = $.extend({}, $target.data(), $this.data())
     var slideIndex = $this.attr('data-slide-to')
diff --git a/src/ui/node_modules/bootstrap/js/carousel.js b/src/ui/node_modules/bootstrap/js/carousel.js
index a5fcac31..54a44fcf 100644
--- a/src/ui/node_modules/bootstrap/js/carousel.js
+++ b/src/ui/node_modules/bootstrap/js/carousel.js
@@ -217,7 +217,7 @@
     var target  = $this.attr('data-target') || href
     var $target = $(document).find(target)

-    if (!$target.hasClass('carousel')) return
+    if (!$target.hasClass('carousel')) return false

     var options = $.extend({}, $target.data(), $this.data())
     var slideIndex = $this.attr('data-slide-to')
-- 
2.34.1

