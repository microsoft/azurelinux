From 75ddbb90468c4bbc21140fe0d37291314bc26ff8 Mon Sep 17 00:00:00 2001
From: Gleb Mazovetskiy <glex.spb@gmail.com>
Date: Sun, 2 Dec 2018 15:22:36 +0000
Subject: [PATCH] Disallow parent selector in selector_fns arguments

Fixes #2779

sass-spec: https://github.com/sass/sass-spec/pull/1320

Upstream Patch Reference: https://github.com/sass/libsass/commit/75ddbb90468c4bbc21140fe0d37291314bc26ff8.patch
---
 src/ui/node_modules/node-sass/src/libsass/src/functions.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/ui/node_modules/node-sass/src/libsass/src/functions.cpp b/src/ui/node_modules/node-sass/src/libsass/src/functions.cpp
index c9999fc3..f1cda594 100644
--- a/src/ui/node_modules/node-sass/src/libsass/src/functions.cpp
+++ b/src/ui/node_modules/node-sass/src/libsass/src/functions.cpp
@@ -246,7 +246,7 @@ namespace Sass {
         str->quote_mark(0);
       }
       std::string exp_src = exp->to_string(ctx.c_options);
-      return Parser::parse_selector(exp_src.c_str(), ctx, traces);
+      return Parser::parse_selector(exp_src.c_str(), ctx, traces, /*allow_parent=*/false);
     }
 
     template <>
@@ -261,7 +261,7 @@ namespace Sass {
         str->quote_mark(0);
       }
       std::string exp_src = exp->to_string(ctx.c_options);
-      Selector_List_Obj sel_list = Parser::parse_selector(exp_src.c_str(), ctx, traces);
+      Selector_List_Obj sel_list = Parser::parse_selector(exp_src.c_str(), ctx, traces, /*allow_parent=*/false);
       if (sel_list->length() == 0) return NULL;
       Complex_Selector_Obj first = sel_list->first();
       if (!first->tail()) return first->head();
-- 
2.43.0

