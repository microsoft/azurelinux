From 3ba4a31713ed336dd13c5bc8e843ff2b75a03905 Mon Sep 17 00:00:00 2001
From: Derek McGowan <derek@mcg.dev>
Date: Thu, 4 Mar 2021 16:26:21 -0800
Subject: [PATCH] Prepare release notes for 1.4.4

Signed-off-by: Derek McGowan <derek@mcg.dev>
---
 .mailmap             |  1 +
 releases/v1.4.4.toml | 33 +++++++++++++++++++++++++++++++++
 version/version.go   |  2 +-
 3 files changed, 35 insertions(+), 1 deletion(-)
 create mode 100644 releases/v1.4.4.toml

diff --git a/.mailmap b/.mailmap
index 4659530f634..b24a16e118f 100644
--- a/.mailmap
+++ b/.mailmap
@@ -97,6 +97,7 @@ Yue Zhang <zy675793960@yeah.net>
 Yuxing Liu <starnop@163.com>
 Zhang Wei <zhangwei555@huawei.com>
 Zhenguang Zhu <zhengguang.zhu@daocloud.io>
+Zhiyu Li <payall4u@qq.com>
 Zhiyu Li <payall4u@qq.com> <404977848@qq.com>
 Zhongming Chang<zhongming.chang@daocloud.io>
 Zhoulin Xie <zhoulin.xie@daocloud.io>
diff --git a/releases/v1.4.4.toml b/releases/v1.4.4.toml
new file mode 100644
index 00000000000..58434f701d1
--- /dev/null
+++ b/releases/v1.4.4.toml
@@ -0,0 +1,33 @@
+# commit to be tagged for new release
+commit = "HEAD"
+
+project_name = "containerd"
+github_repo = "containerd/containerd"
+match_deps = "^github.com/(containerd/[a-zA-Z0-9-]+)$"
+
+# previous release
+previous = "v1.4.3"
+
+pre_release = false
+
+preface = """\
+The fourth patch release for `containerd` 1.4 contains a fix for CVE-2021-21334
+along with various other minor issues.
+See [GHSA-36xw-fx78-c5r4](https://github.com/containerd/containerd/security/advisories/GHSA-36xw-fx78-c5r4)
+for more details related to CVE-2021-21334.
+
+### Notable Updates
+* **Fix container create in CRI to prevent possible environment variable leak between containers** [#1628](https://github.com/containerd/cri/pull/1628)
+* **Update shim server to return grpc NotFound error** [#4872](https://github.com/containerd/containerd/pull/4872)
+* **Add bounds on max `oom_score_adj` value for shim's AdjustOOMScore** [#4874](https://github.com/containerd/containerd/pull/4874)
+* **Update task manager to use fresh context when calling shim shutdown** [#4929](https://github.com/containerd/containerd/pull/4929)
+* **Update Docker resolver to avoid possible concurrent map access panic** [#4941](https://github.com/containerd/containerd/pull/4941)
+* **Update shim's log file open flags to avoid containerd hang on syscall open** [#4971](https://github.com/containerd/containerd/pull/4971)
+* **Fix incorrect usage calculation** [#5019](https://github.com/containerd/containerd/pull/5019)
+
+"""
+
+# notable prs to include in the release notes, 1234 is the pr number
+[notes]
+
+[breaking]
diff --git a/version/version.go b/version/version.go
index 184ef00d07f..5394680f0e1 100644
--- a/version/version.go
+++ b/version/version.go
@@ -23,7 +23,7 @@ var (
 	Package = "github.com/containerd/containerd"
 
 	// Version holds the complete version number. Filled in at linking time.
-	Version = "1.4.3+unknown"
+	Version = "1.4.4+unknown"
 
 	// Revision is filled with the VCS (e.g. git) revision being used to build
 	// the program at linking time.
