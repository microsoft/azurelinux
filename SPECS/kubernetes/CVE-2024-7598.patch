From 6d16a8be2a37bc65d9dd3f018f893070f5ec58f2 Mon Sep 17 00:00:00 2001
From: AllSpark <allspark@microsoft.com>
Date: Fri, 31 Oct 2025 18:19:05 +0000
Subject: [PATCH] Promote feature OrderedNamespaceDeletion to GA.

Signed-off-by: Azure Linux Security Servicing Account <azurelinux-security@microsoft.com>
Upstream-reference: AI Backport of https://github.com/kubernetes/kubernetes/pull/131514/commits/eb3c9a3184aabf89405f05fafb6f2bf91ba92226.patch
---
 pkg/features/kube_features.go | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/pkg/features/kube_features.go b/pkg/features/kube_features.go
index 86d13691..691c1314 100644
--- a/pkg/features/kube_features.go
+++ b/pkg/features/kube_features.go
@@ -563,6 +563,13 @@ const (
 	// Permits kubelet to run with swap enabled.
 	NodeSwap featuregate.Feature = "NodeSwap"
 
+	// owner: @cici37
+	// beta: v1.33
+	// GA: v1.34
+	//
+	// Enable ordered deletion of namespace resources.
+	OrderedNamespaceDeletion featuregate.Feature = "OrderedNamespaceDeletion"
+
 	// owner: @mortent, @atiratree, @ravig
 	// kep: http://kep.k8s.io/3018
 	// alpha: v1.26
@@ -1155,6 +1162,8 @@ var defaultKubernetesFeatureGates = map[featuregate.Feature]featuregate.FeatureS
 
 	PodAndContainerStatsFromCRI: {Default: false, PreRelease: featuregate.Alpha},
 
+	OrderedNamespaceDeletion: {Default: true, PreRelease: featuregate.GA, LockToDefault: true}, // remove in 1.37
+
 	PodDeletionCost: {Default: true, PreRelease: featuregate.Beta},
 
 	PodDisruptionConditions: {Default: true, PreRelease: featuregate.Beta},
-- 
2.45.4

