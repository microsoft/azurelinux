From 8864ac407bba8607950025e0979c4c69bc7abc7b Mon Sep 17 00:00:00 2001
From: Illia Volochii <illia.volochii@gmail.com>
Date: Wed, 7 Jan 2026 18:07:30 +0200
Subject: [PATCH] Merge commit from fork

* Stop decoding response content during redirects needlessly

Upstream Patch Reference: https://github.com/urllib3/urllib3/commit/8864ac407bba8607950025e0979c4c69bc7abc7b.patch 
---
 pypi_urllib3/site-packages/urllib3/response.py | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/pypi_urllib3/site-packages/urllib3/response.py b/pypi_urllib3/site-packages/urllib3/response.py
index 47e75fd1..0c0e20ff 100644
--- a/pypi_urllib3/site-packages/urllib3/response.py
+++ b/pypi_urllib3/site-packages/urllib3/response.py
@@ -635,7 +635,11 @@ class HTTPResponse(BaseHTTPResponse):
         Unread data in the HTTPResponse connection blocks the connection from being released back to the pool.
         """
         try:
-            self.read()
+            self.read(
+                # Do not spend resources decoding the content unless
+                # decoding has already been initiated.
+                decode_content=self._has_decoded_content,
+            )
         except (HTTPError, OSError, BaseSSLError, HTTPException):
             pass
 
-- 
2.45.4

