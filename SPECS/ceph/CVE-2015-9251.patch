From 124fa2abfde0939c5a7684be1c9f11565888a3a5 Mon Sep 17 00:00:00 2001
From: Kevin Lockwood <v-klockwood@microsoft.com>
Date: Tue, 28 Jan 2025 17:30:43 -0800
Subject: [PATCH] [Medium] Patch ceph to fix CVE-2015-9251

Link: https://github.com/jquery/jquery/commit/f60729f3903d17917dc351f3ac87794de379b0cc.patch
---
 qa/workunits/erasure-code/jquery.js | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/qa/workunits/erasure-code/jquery.js b/qa/workunits/erasure-code/jquery.js
index 8c24ffc61..f4ce660b1 100644
--- a/qa/workunits/erasure-code/jquery.js
+++ b/qa/workunits/erasure-code/jquery.js
@@ -8245,6 +8245,14 @@ jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {
 		return "script";
 	}
 });
+
+// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)
+jQuery.ajaxPrefilter( function( s ) {
+    if ( s.crossDomain ) {
+        s.contents.script = false;
+    }
+} );
+
 // Install script dataType
 jQuery.ajaxSetup({
 	accepts: {
-- 
2.34.1

