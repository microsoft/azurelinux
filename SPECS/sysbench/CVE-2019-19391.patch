backport of original fix (c017b2bafc24f71620de7225c5fdcd4a71ff2593)

diff -ru sysbench-1.0.20-orig/third_party/luajit/luajit/src/lj_debug.c sysbench-1.0.20/third_party/luajit/luajit/src/lj_debug.c
--- sysbench-1.0.20-orig/third_party/luajit/luajit/src/lj_debug.c	2024-06-06 18:48:05.167574363 +0000
+++ sysbench-1.0.20/third_party/luajit/luajit/src/lj_debug.c	2024-06-06 20:09:52.372314544 +0000
@@ -429,7 +429,8 @@
   GCfunc *fn;
   if (*what == '>') {
     TValue *func = L->top - 1;
-    api_check(L, tvisfunc(func));
+    if (!tvisfunc(func))
+	    return 0;
     fn = funcV(func);
     L->top--;
     what++;
