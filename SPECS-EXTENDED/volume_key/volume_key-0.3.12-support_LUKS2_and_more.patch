diff --git a/lib/volume_luks.c b/lib/volume_luks.c
index f4bf2c8..d1c5d47 100644
--- a/lib/volume_luks.c
+++ b/lib/volume_luks.c
@@ -30,6 +30,10 @@ Author: Miloslav Trmaƒç <mitr@redhat.com> */
 #include "volume.h"
 #include "volume_luks.h"
 
+#ifndef CRYPT_LUKS
+#define CRYPT_LUKS NULL
+#endif
+
 /* LUKS - specific code */
 
 /* Return an error message for ERR_NO, for g_free (). */
@@ -105,7 +109,7 @@ open_crypt_device (const char *path, char **last_log_entry, GError **error)
   if (r < 0)
     goto err;
   crypt_set_log_callback(cd, record_cryptsetup_log_entry, last_log_entry);
-  r = crypt_load (cd, CRYPT_LUKS1, NULL);
+  r = crypt_load (cd, CRYPT_LUKS, NULL);
   if (r < 0)
     goto err_cd;
   return cd;
