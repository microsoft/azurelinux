diff -up oneTBB-2021.12.0/cmake/compilers/Clang.cmake.orig oneTBB-2021.12.0/cmake/compilers/Clang.cmake
--- oneTBB-2021.12.0/cmake/compilers/Clang.cmake.orig	2024-02-13 04:49:20.000000000 -0700
+++ oneTBB-2021.12.0/cmake/compilers/Clang.cmake	2024-06-07 13:22:47.627930378 -0600
@@ -48,11 +48,6 @@ endif()
 set(TBB_WARNING_LEVEL -Wall -Wextra $<$<BOOL:${TBB_STRICT}>:-Werror>)
 set(TBB_TEST_WARNING_FLAGS -Wshadow -Wcast-qual -Woverloaded-virtual -Wnon-virtual-dtor)
 
-# Ignore -Werror set through add_compile_options() or added to CMAKE_CXX_FLAGS if TBB_STRICT is disabled.
-if (NOT TBB_STRICT AND COMMAND tbb_remove_compile_flag)
-    tbb_remove_compile_flag(-Werror)
-endif()
-
 # Enable Intel(R) Transactional Synchronization Extensions (-mrtm) and WAITPKG instructions support (-mwaitpkg) on relevant processors
 if (CMAKE_SYSTEM_PROCESSOR MATCHES "(AMD64|amd64|i.86|x86)" AND NOT EMSCRIPTEN)
     set(TBB_COMMON_COMPILE_FLAGS ${TBB_COMMON_COMPILE_FLAGS} -mrtm $<$<NOT:$<VERSION_LESS:${CMAKE_CXX_COMPILER_VERSION},12.0>>:-mwaitpkg>)
diff -up oneTBB-2021.12.0/cmake/compilers/GNU.cmake.orig oneTBB-2021.12.0/cmake/compilers/GNU.cmake
--- oneTBB-2021.12.0/cmake/compilers/GNU.cmake.orig	2024-02-13 04:49:20.000000000 -0700
+++ oneTBB-2021.12.0/cmake/compilers/GNU.cmake	2024-06-07 13:22:47.627930378 -0600
@@ -42,11 +42,6 @@ endif()
 
 set(TBB_COMMON_LINK_LIBS ${CMAKE_DL_LIBS})
 
-# Ignore -Werror set through add_compile_options() or added to CMAKE_CXX_FLAGS if TBB_STRICT is disabled.
-if (NOT TBB_STRICT AND COMMAND tbb_remove_compile_flag)
-    tbb_remove_compile_flag(-Werror)
-endif()
-
 if (NOT ${CMAKE_CXX_COMPILER_ID} STREQUAL Intel)
     # gcc 6.0 and later have -flifetime-dse option that controls elimination of stores done outside the object lifetime
     set(TBB_DSE_FLAG $<$<NOT:$<VERSION_LESS:${CMAKE_CXX_COMPILER_VERSION},6.0>>:-flifetime-dse=1>)
